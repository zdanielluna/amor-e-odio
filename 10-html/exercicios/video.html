<div>
    <video
        wm-video
        id="meuVideo"
        width="815"
        height="450"
        controlsList="nodownload"
    >
        <source
            src="http://files.cod3r.com.br/curso-web/video.mp4"
            type="video/mp4"
        />
    </video>

    <div wm-progresso="meuVideo" class="progresso">
        <div></div>
    </div>
</div>

<div>
    <button
        onclick="document.querySelector('[wm-video]').play(), barraInterval = setInterval(preencherBarra, 1000) "
    >
        Play
    </button>
    <button
        onclick="document.querySelector('[wm-video]').pause(), clearInterval(barraInterval) "
    >
        Pause
    </button>
</div>

<style>
    .progresso {
        height: 20px;
        width: 810px;
        border: 1px solid #444;
        margin: 5px;
    }

    .progresso > div {
        background-color: red;
        color: #fff;
        height: 100%;
        text-align: right;
        font-size: 14px;
        width: 0;
    }


</style>

<script>
    const barraProgresso = document.querySelector('[wm-progresso] > div')
    let largura = 0
    function preencherBarra() {
        validarBarra()
        largura += 18
        barraProgresso.style.width = largura + 'px'
    }

    function validarBarra() {
        if (largura >= 790) clearInterval(barraInterval)
    }
</script>
